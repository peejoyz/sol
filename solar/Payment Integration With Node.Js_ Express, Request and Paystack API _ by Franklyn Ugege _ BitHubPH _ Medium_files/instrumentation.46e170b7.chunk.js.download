(self.webpackChunklite=self.webpackChunklite||[]).push([[30118],{8538:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>M});var r=t(94725),o=t(67294),i=t(12291),a=t(75341),s=t(64858),u=t(36511),c=t(39050),l=t(72351),f=t(52837),d=t(61250),p=t(74165),v=t(31235),g=t(31117),_=t(67297),m=t(67616),h=t(29035),b=t(63038),w=t.n(b),E=t(59713),S=t.n(E),T=t(44059),P=t(14034);function y(){for(var e=new P.y,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];if(0===t.length)return e;var o=t.map((function(){return[]}));return t.forEach((function(n,t){n.observe((function(n){o[t].push(n),o.every((function(e){return e.length>0}))&&e.set(o.map((function(e){return e.shift()})))}))})),e}var A=function(e){return function(n){return S()({},e,n)}};const M=function(){var e,n,t,b,E,S,P,M,C,k,L,O,F,q,x,Y,B,D,H,j,I;return o.useEffect((function(){var e=y(m.sY,m.wZ,m.vY).map((function(e){var n=w()(e,3),t=n[0],r=n[1],o=n[2];return{responseEndToLCP:new m.jb(t.response.end,r.end),responseEndToFCP:new m.jb(t.response.end,o.end)}})),n=y(m.sY,m.qH.map(A("fid")),m.vY.map(A("fcp")),m.wZ.map(A("lcp")),e);m.cA.observe((function(e){e||n.observe((function(e){var n=e.reduce((function(e,n){return Object.assign(e,n)}),{}),t=Object.keys(n).reduce((function(e,t){var r=n[t].duration;return e[t]=r%1==0?r:Number(r.toFixed(1)),e}),{}),r=document.children[0],o={html:null==r?void 0:r.innerHTML.length,redux:JSON.stringify(window.__PRELOADED_STATE__).length,apollo:JSON.stringify(window.__APOLLO_STATE__).length};T.t.log("client hydrated",{perf:t,sizes:o})}))})),m.Df.observe((function(e){return T.t.log("client resource sizes",{resources:e})}))}),[]),e=(0,_.v9)((function(e){return e.tracing})),n=e.originalSpan,t=e.tracer,b=(0,s.c)(),E=b.loading,S=b.isBot,P=(0,_.v9)((function(e){return e.client.routingEntity})),M=(0,_.v9)((function(e){return e.auroraPage.isAuroraPageEnabled})),C=(0,u.r)(),k=C.loading,L=C.viewerId,O=(0,v.xg)(),F=(0,v.f$)(),q=(0,_.b$)((function(e){return e.cache.cacheStatus})),x=(0,a.SK)(),Y=(0,a.U1)(),B=(0,a.as)(),D=(0,a.ll)(),H=(0,i.I0)(),j=(0,d.dh)(),I=(0,l.Av)(),o.useEffect((function(){var e;if(t&&I&&!E&&!S&&!k&&L){var o=j(window.location.pathname),i=null!==(e=null==o?void 0:o.route.metricName)&&void 0!==e?e:"unidentified",a=(0,c.Q)(L),s=(0,h.ic)(navigator.userAgent),u=[];O?u.push("edge_cache_enabled"):F&&u.push("edge_cache_control"),q===p.K2.Hit&&u.push("edge_cache_hit"),x&&u.push("enable_medium_app"),Y&&u.push("enable_medium_app_flag"),B&&u.push("enable_medium_app_beta"),D&&u.push("enable_medium_app_vary");var l=u.join(","),d={"user.logged_in":a,"user.experiment":l,"device.mobile_or_tablet":s,"req.is_dot_app":D,"req.route_name":i,"req.route":i,"req.router":(null==P?void 0:P.type)||f.Cr.DEFAULT},v={auroraPage:M,loggedIn:a,mobileOrTablet:s,experiment:l,route:i},_=function(e){return Math.round(1e3*e)},b=function(e,n,r,o){var i=r.start,a=r.end,s=t.startSpan("timing.".concat(n),{childOf:e,tags:d}).setBeginMicros(_(i)).setEndMicros(_(a));return null!=o&&o(s),s.finish(),s};m.sY.observe((function(e){var o,i,a,s;I.reportRender(v,e);var u=t.startSpan("timing.navigation",{references:n?[(0,r.followsFrom)(n)]:void 0,tags:d}).setBeginMicros(_(e.load.start)).setEndMicros(_(e.load.end)).log({redirect_count:null!==(o=null===(i=window)||void 0===i||null===(a=i.performance)||void 0===a||null===(s=a.navigation)||void 0===s?void 0:s.redirectCount)&&void 0!==o?o:0});b(u,"beforeDomainLookup",e.before_domain_lookup),b(u,"domainLookup",e.domain_lookup),b(u,"connect",e.connect),b(u,"request",e.request),b(u,"response",e.response),b(u,"processing",e.processing);var c=e.overall_fcp,l=e.client,f=e.render;null!=c&&b(u,"firstContentfulPaint",c),null!=l&&b(u,"client",l,(function(e){null!=f&&b(e,"render",f)})),u.finish(),H((0,g.YU)(u.generateTraceURL()))})),m.vY.observe((function(e){I.reportFirstContentfulPaint(v,e),t.startSpan("timing.firstContentfulPaint.v2",{references:n?[(0,r.followsFrom)(n)]:void 0,tags:d}).setBeginMicros(_(e.start)).setEndMicros(_(e.end)).finish()})),m.wZ.observe((function(e){I.reportLargestContentfulPaint(v,e),t.startSpan("timing.largestContentfulPaint",{references:n?[(0,r.followsFrom)(n)]:void 0,tags:d}).setBeginMicros(_(e.start)).setEndMicros(_(e.end)).finish()})),m.yI.observe((function(e){I.reportCumulativeLayoutShift(v,e)})),m.cA.observe((function(e){e&&I.reportUnsupportedPerfObserver(v)})),m.qH.observe((function(e){I.reportInput(v,e),t.startSpan("timing.input.first.delay",{references:n?[(0,r.followsFrom)(n)]:void 0,tags:d}).setBeginMicros(_(e.start)).setEndMicros(_(e.end)).finish()}))}}),[t,k,L,E,S,x]),null}},72864:(e,n,t)=>{"use strict";t.r(n),t.d(n,{init:()=>i,extractSpan:()=>a});var r=t(45573),o=t(94725),i=function(e){var n=e.name,t=e.host,i=e.token,a=e.appVersion,s=new r.Tracer({component_name:n,xhr_instrumentation:!1,access_token:i,collector_host:t,default_span_tags:{"component.version":a}});return(0,o.initGlobalTracer)(s),s},a=function(e,n){if(n)return e.extract(o.FORMAT_HTTP_HEADERS,n)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/instrumentation.46e170b7.chunk.js.map